plugins {
    id "java"
    id "edu.wpi.first.GradleRIO" version "2019.0.0-alpha-3"
}

repositories {
    mavenCentral()
}

deploy {
    targets {
        target('roborio', RoboRIO) {
            team = getTeamOrDefault(4828)
        }
    }
    artifacts {
        // Setup a Java Artifact. Required for Java Users.
        artifact('frcJava', FRCJavaArtifact) {
            targets << 'roborio'
            debug = getDebugOrDefault(false) // Enable to enable java debugging on the RoboRIO. Default: false
            debugPort = 8348 // Set the debugging port. Default: 8348
        }
    }
}

// Set the dependencies you want to use in your JAVA project.
// WPILib adds WPILibJ, NTCore, OpenCV, CSCore among others.
dependencies {
    compile wpilib()
}

// Java only. Setup your Jar File.
jar {
    // Compile a 'fat jar' (libraries included)
    from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    // Include your Manifest. Arguments are your Robot Main Class.
    manifest GradleRIOPlugin.javaManifest('frc.team4828.robot.Robot')
}

task wrapper(type: Wrapper) {
    gradleVersion = '4.9'
}
